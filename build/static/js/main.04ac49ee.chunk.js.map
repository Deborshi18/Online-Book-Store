{"version":3,"sources":["backend.js","core/helper/cartHelper.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","auth/helper/PrivateRoutes.js","user/UserDashboard.js","user/Signin.js","core/PaymentB.js","core/helper/paymentHelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["process","REACT_APP_BACKEND","cartEmpty","next","undefined","window","localStorage","removeItem","setItem","JSON","stringify","isAuthenticated","getItem","parse","signout","userId","user","id","console","log","fetch","method","then","response","catch","err","currentTab","history","path","location","pathname","color","withRouter","className","style","to","onClick","push","Base","title","description","children","rel","href","class","ImageHelper","product","imageurl","image","src","maxHeight","maxWidth","alt","Card","addtoCart","removeFromCart","reload","setReload","f","useState","setRedirect","cartTitle","name","cartDescription","author","cartPrice","price","Style","addToCart","showAddToCart","item","cart","addItemToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","error","setError","loadAllProducts","json","data","useEffect","index","key","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","e","display","onChange","type","PrivateRoutes","Component","component","rest","render","props","state","from","UserDashboard","Signin","loading","didRedirect","onSumit","formData","FormData","append","keys","signin","token","authenticate","performRedirect","PaymentB","clientToken","instance","info","setInfo","getToken","getmeToken","getAmount","amount","p","parseInt","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","paymentInfo","processPayment","code","product_names","forEach","orderData","transaction_id","transaction","createOrder","length","options","authorization","onInstance","Cart","loadCart","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.04ac49ee.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\n","export const addItemToCart = (item, next) => {\n  let cart = [];\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.push({\n      ...item,\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const loadCart = () => {\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\"));\n    }\n  }\n};\n\nexport const removeItemFromCart = (productId) => {\n  let cart = [];\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    cart.map((product, i) => {\n      if (product.id === productId) {\n        cart.splice(i, 1);\n      }\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  return cart;\n};\n\nexport const cartEmpty = (next) => {\n  if (typeof window !== undefined) {\n    localStorage.removeItem(\"cart\");\n    let cart = [];\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n","import { API } from \"../../backend\";\nimport { cartEmpty } from \"../../core/helper/cartHelper\";\n\nexport const signup = (user) => {\n  return fetch('http://15.207.218.35:8000/api/user/', {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const signin = (user) => {\n  const formData = new FormData();\n\n  for (const name in user) {\n    console.log(user[name]);\n    formData.append(name, user[name]);\n  }\n\n  // const {email, password} = user;\n  // const formData = new FormData();\n  // formData.append('email', email)\n  // formData.append('password', password)\n\n  for (var key of formData.keys()) {\n    console.log(\"MYKEY: \", key);\n  }\n\n  return fetch('http://15.207.218.35:8000/api/user/login/', {\n    method: \"POST\",\n\n    body: formData,\n  })\n    .then((response) => {\n      console.log(\"SUCCESS\", response);\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authenticate = (data, next) => {\n  if (typeof window !== undefined) {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n    next();\n  }\n};\n\nexport const isAuthenticated = () => {\n  if (typeof window == undefined) {\n    return false;\n  }\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n    //TODO: compare JWT with database json token\n  } else {\n    return false;\n  }\n};\n\nexport const signout = (next) => {\n  const userId = isAuthenticated() && isAuthenticated().user.id;\n\n  console.log(\"USERID: \", userId);\n\n  if (typeof window !== undefined) {\n    localStorage.removeItem(\"jwt\");\n    cartEmpty(() => {});\n    //next();\n\n    return fetch(`http://15.207.218.35:8000/api/user/logout/${userId}`, {\n      method: \"GET\",\n    })\n      .then((response) => {\n        console.log(\"Signout success\");\n        next();\n      })\n      .catch((err) => console.log(err));\n  }\n};\n","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport { signout, isAuthenticated } from \"../auth/helper\";\n\nconst currentTab = (history, path) => {\n  if (history.location.pathname === path) {\n    return { color: \"#2ecc72\" };\n  } else {\n    return { color: \"#FFFFFF\" };\n  }\n};\n\nconst Menu = ({ history, path }) => {\n  return (\n    <div>\n      <ul className=\"nav nav-tabs bg-dark\">\n        <li className=\"nav-item\">\n          <Link\n            style={currentTab(history, \"/\")}\n            className=\"nav-link\"\n            to=\"/\"\n          >\n            Home\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          <Link\n            style={currentTab(history, \"/cart\")}\n            className=\"nav-link\"\n            to=\"/cart\"\n          >\n            Cart\n          </Link>\n        </li>\n        {isAuthenticated() && (\n          <li className=\"nav-item\">\n            <Link\n              style={currentTab(history, \"/user/dashboard\")}\n              className=\"nav-link\"\n              to=\"/user/dashboard\"\n            >\n              dashboard\n            </Link>\n          </li>\n        )}\n        {!isAuthenticated() && (\n          <Fragment>\n            <li className=\"nav-item\">\n              <Link\n                style={currentTab(history, \"/signup\")}\n                className=\"nav-link\"\n                to=\"/signup\"\n              >\n                Signup\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link\n                style={currentTab(history, \"/signin\")}\n                className=\"nav-link\"\n                to=\"/signin\"\n              >\n                Login\n              </Link>\n            </li>\n          </Fragment>\n        )}\n\n        {isAuthenticated() && (\n          <li className=\"nav-item\">\n            <span\n              onClick={() => {\n                signout(() => {\n                  history.push(\"/\");\n                });\n              }}\n              className=\"nav-link text-warning\"\n            >\n              Signout\n            </span>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default withRouter(Menu);\n","import React from \"react\";\nimport Menu from \"./Menu\";\nimport \"./Base.css\";\n\nconst Base = ({\n  title = \"My Title\",\n  description = \"My description\",\n  className = \"bg-dark text-white p-4\",\n  children,\n}) => {\n  return (\n    <div>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"/>\n    <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.2/css/all.css\"/>\n\n    <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"/>\n\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css\" rel=\"stylesheet\"/>\n\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css\" rel=\"stylesheet\"/>\n\n      <Menu />\n      <div className=\"container-fluid\">\n        <div className=\"jumbotron bg-dark text-white text-center\">\n          <h2 className=\"display-4\">{title}</h2>\n          <p className=\"lead\">{description}</p>\n        </div>\n        <div className={className}>{children}</div>\n      </div>\n      <footer className=\"page-footer  font-small pt-4\">\n        <div className=\"container text-center text-md-left\">\n        <div class=\"row text-center text-md-left mt-3 pb-3\">\n         <div class=\"col-md-3 col-lg-3 col-xl-3 mx-auto mt-3\">\n        <h6 class=\"text-uppercase mb-4 font-weight-bold\">Taxila Book Store</h6>\n        <p>\"An Online Book Store. Bringing you the best of the titles and pieces of texts, right at your doorstep. With 24X7 free home delivery.\"</p>\n      </div>\n        <hr className=\"w-100 clearfix d-md-none\"/>\n\n        <div className=\"col-md-2 col-lg-2 col-xl-2 mx-auto mt-3\">\n        <h6 className=\"text-uppercase mb-4 font-weight-bold\">Money</h6>\n       <p>\n          <a href=\"#\">Become a seller</a>\n        </p> \n        <p>\n          <a href=\"#\">Advertise your product</a>\n        </p>\n        <p>\n          <a href=\"#\">Sponser us</a>\n        </p>\n       </div>\n       <div class=\"col-md-3 col-lg-2 col-xl-2 mx-auto mt-3\">\n        <h6 class=\"text-uppercase mb-4 font-weight-bold\">Get to Know Us</h6>\n          <p>\n          <a href=\"#\">About us</a>\n        </p> \n        <p>\n          <a href=\"#\">Careers</a>\n        </p> \n        <p>\n          <a href=\"#\">Press Releases</a>\n        </p> \n        </div>\n         <hr className=\"w-100 clearfix d-md-none\"/>\n\n          <div className=\"col-md-4 col-lg-3 col-xl-3 mx-auto mt-3\">\n        <h6 className=\"text-uppercase mb-4 font-weight-bold\">Contact</h6>\n        <p>\n          <i className=\"fas fa-home mr-3\"></i>Jorhat, Assam 7856001, India</p>\n        <p>\n          <i className=\"fas fa-envelope mr-3\"></i> info@gmail.com</p>\n        <p>\n          <i className=\"fas fa-phone mr-3\"></i> + 91 234 567 88</p>\n        <p>\n          <i className=\"fas fa-print mr-3\"></i> + 91 234 567 89</p>\n      </div>\n      </div>\n\n        <hr/>\n\n \n    <div className=\"row d-flex align-items-center\">\n\n     \n      <div className=\"col-md-7 col-lg-8\">\n\n      \n        <p className=\"text-center text-md-left\">© 2020 Copyright:\n          <a href=\"#\">\n            <strong>TaxilaBookStore.com</strong>\n          </a>\n        </p>\n\n      </div>\n      \n\n      \n      <div className=\"col-md-5 col-lg-4 ml-lg-0\">\n\n        \n        <div className=\"text-center text-md-right\">\n          <ul className=\"list-unstyled list-inline\">\n            <li className=\"list-inline-item\">\n              <a className=\"btn-floating btn-sm rgba-white-slight mx-1\">\n                <i className=\"fab fa-facebook-f\"></i>\n              </a>\n            </li>\n            <li className=\"list-inline-item\">\n              <a className=\"btn-floating btn-sm rgba-white-slight mx-1\">\n                <i className=\"fab fa-twitter\"></i>\n              </a>\n            </li>\n            <li className=\"list-inline-item\">\n              <a className=\"btn-floating btn-sm rgba-white-slight mx-1\">\n                <i className=\"fab fa-google-plus-g\"></i>\n              </a>\n            </li>\n            <li className=\"list-inline-item\">\n              <a className=\"btn-floating btn-sm rgba-white-slight mx-1\">\n                <i className=\"fab fa-linkedin-in\"></i>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n      </div>\n\n\n\n          </div>\n          </div>\n      </footer>\n    </div>\n\n  );\n};\n\nexport default Base;\n","import React from \"react\";\n\nconst ImageHelper = ({ product }) => {\n  const imageurl = product\n    ? product.image\n    : `http://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940`;\n  return (\n    <div className=\"rounded border border-success p-2\">\n      <img\n        src={imageurl}\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n        className=\"mb-3 rounded\"\n        alt=\"\"\n      />\n    </div>\n  );\n};\n\nexport default ImageHelper;\n","import React, { useState } from \"react\";\nimport ImageHelper from \"./helper/ImageHelper\";\nimport { Redirect } from \"react-router-dom\";\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\nimport { isAuthenticated } from \"../auth/helper\";\n\nconst Card = ({\n  product,\n  addtoCart = true,\n  removeFromCart = false,\n  reload = undefined,\n  setReload = (f) => f,\n  // function(f){return f}\n}) => {\n  const [redirect, setRedirect] = useState(false);\n\n  const cartTitle = product ? product.name : \"A photo from pexels\";\n  const cartDescription = product ? product.author : \"Default description\";\n  const cartPrice = product ? product.price : \"Default\";\n\n  const addToCart = () => {\n    if (isAuthenticated()) {\n      addItemToCart(product, () => setRedirect(true));\n      console.log(\"Added to cart\");\n    } else {\n      console.log(\"Login Please!\");\n    }\n  };\n\n  const getAredirect = (redirect) => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCart = (addToCart) => {\n    return (\n      addtoCart && (\n        <button\n          onClick={addToCart}\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\n        >\n          Add to Cart\n        </button>\n      )\n    );\n  };\n\n  const showRemoveFromCart = (removeFromCart) => {\n    return (\n      removeFromCart && (\n        <button\n          onClick={() => {\n            //TODO: handle this too\n            removeItemFromCart(product.id);\n            setReload(!reload);\n\n            console.log(\"Product removed from cart\");\n          }}\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\n        >\n          Remove from cart\n        </button>\n      )\n    );\n  };\n\n  return (\n   \n    <div className=\"card\" Style=\"width:200px;height:100%\" >\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css\" rel=\"stylesheet\"/>\n      <ImageHelper product={product} />\n     \n      <div className=\"card-body\" >\n       \n        <h5 class=\"card-title\">{cartTitle}</h5>\n        <p className=\"card-\">\n          {cartDescription}\n        </p>\n        <p className=\"font-weight-bold\">₹ {cartPrice}</p>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            {showAddToCart(addToCart)}\n          </div>\n          <div className=\"col-12\">\n            {showRemoveFromCart(removeFromCart)}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState, useEffect } from \"react\";\n\nimport { getProducts } from \"./helper/coreapicalls\";\nimport Base from \"./Base\";\n\nimport \"../styles.css\";\nimport Card from \"./Card\";\n\nexport default function Home() {\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(false);\n\n  const loadAllProducts = () => {\n    getProducts()\n      .then((data) => {\n        if (data.error) {\n          setError(data.error);\n          console.log(error);\n        } else {\n          setProducts(data);\n        }\n      });\n  };\n\n  useEffect(() => {\n    loadAllProducts();\n  });\n\n  return (\n    <Base title=\"Home Page\" description=\"Welcome to Online Book store\" className=\"bg-white\">\n      <h1 className=\"text-primary\">Books</h1>\n      <div className=\"row\">\n        {products.map((product, index) => {\n          return (\n            <div key={index} className=\"col-3\">\n              <Card product={product} />\n            </div>\n          );\n        })}\n      </div>\n    </Base>\n  );\n}\n","import { API } from \"../../backend\";\n\nexport const getProducts = () => {\n  return fetch('http://15.207.218.35:8000/api/product', { method: \"GET\" })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n","import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"../auth/helper\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: false,\n  });\n\n  const { name, email, password, error, success } = values;\n\n  const handleChange = (name) =>\n    (event) => {\n      setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    signup({ name, email, password })\n      .then((data) => {\n        console.log(\"DATA\", data);\n        if (data.email === email) {\n          setValues({\n            ...values,\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            success: true,\n          });\n        } else {\n          setValues({\n            ...values,\n            error: true,\n            success: false,\n          });\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            New account created successfully. Please <Link\n              to=\"/signin\"\n            >\n              login now.\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            Check all fields again\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const signUpForm = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Name</label>\n              <input\n                className=\"form-control\"\n                value={name}\n                onChange={handleChange(\"name\")}\n                type=\"text\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                className=\"form-control\"\n                value={email}\n                onChange={handleChange(\"email\")}\n                type=\"text\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">password</label>\n              <input\n                className=\"form-control\"\n                value={password}\n                onChange={handleChange(\"password\")}\n                type=\"password\"\n              />\n            </div>\n            <button\n              onClick={onSubmit}\n              className=\"btn btn-success btn-block\"\n            >\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Sign Up Page\" description=\"A signup for LCO user\">\n      {successMessage()}\n      {errorMessage()}\n      {signUpForm()}\n      <p className=\"text-white text-center\">\n        {JSON.stringify(values)}\n      </p>\n    </Base>\n  );\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoutes = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        isAuthenticated()\n          ? (\n            <Component {...props} />\n          )\n          : (\n            <Redirect\n              to={{\n                pathname: \"/signin\",\n                state: { from: props.location },\n              }}\n            />\n          )}\n    />\n  );\n};\n\nexport default PrivateRoutes;\n","import React from \"react\";\nimport Base from \"../core/Base\";\n\nconst UserDashboard = () => {\n  return (\n    <Base title=\"User dashboard\">\n      <h1>Welcome to user dashboard page</h1>\n    </Base>\n  );\n};\n\nexport default UserDashboard;\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport Base from \"../core/Base\";\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"ten@hitesh.com\",\n    password: \"12345\",\n    error: \"\",\n    success: false,\n    loading: false,\n    didRedirect: false,\n  });\n  const { name, email, password, error, success, loading, didRedirect } =\n    values;\n\n  const handleChange = (name) =>\n    (event) => {\n      setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n  const onSumit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n\n    signin({ email, password })\n      .then((data) => {\n        console.log(\"DATA\", data);\n        if (data.token) {\n          //let sessionToken = data.token;\n          authenticate(data, () => {\n            console.log(\"TOKKEN ADDED\");\n            setValues({\n              ...values,\n              didRedirect: true,\n            });\n          });\n        } else {\n          setValues({\n            ...values,\n            loading: false,\n          });\n        }\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const performRedirect = () => {\n    if (isAuthenticated()) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  const loadingMessage = () => {\n    return (\n      loading && (\n        <div className=\"alert alert-info\">\n          <h2>Loading...</h2>\n        </div>\n      )\n    );\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            New account created successfully. Please <Link\n              to=\"/signin\"\n            >\n              login now.\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            Check all fields again\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const signInForm = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                name=\"email\"\n                className=\"form-control\"\n                value={email}\n                onChange={handleChange(\"email\")}\n                type=\"text\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">password</label>\n              <input\n                name=\"password\"\n                className=\"form-control\"\n                value={password}\n                onChange={handleChange(\"password\")}\n                type=\"password\"\n              />\n            </div>\n            <button\n              onClick={onSumit}\n              className=\"btn btn-success btn-block\"\n            >\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Welcome to sign in page\" description=\"A OnlineBook store\">\n      {loadingMessage()}\n\n      {signInForm()}\n      <p className=\"text-center\">\n        {JSON.stringify(values)}\n      </p>\n      {performRedirect()}\n    </Base>\n  );\n};\n\nexport default Signin;\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { cartEmpty } from \"./helper/cartHelper\";\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\nimport { createOrder } from \"./helper/orderHelper\";\nimport { isAuthenticated, signout } from \"../auth/helper\";\n\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst PaymentB = ({\n  products,\n  reload = undefined,\n  setReload = (f) => f,\n}) => {\n  const [info, setInfo] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {},\n  });\n\n  const userId = isAuthenticated && isAuthenticated().user.id;\n  const token = isAuthenticated && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getmeToken(userId, token)\n      .then((info) => {\n        if (info.error) {\n          setInfo({\n            ...info,\n            error: info.error,\n          });\n          signout(() => {\n            return <Redirect to=\"/\" />;\n          });\n        } else {\n          const clientToken = info.clientToken;\n          setInfo({ clientToken });\n        }\n      });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n\n  const getAmount = () => {\n    let amount = 0;\n    products.map((p) => {\n      amount = amount + parseInt(p.price);\n    });\n    return amount;\n  };\n  const onPurchase = () => {\n    setInfo({ loading: true });\n    let nonce;\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\n      console.log(\"MYDATA\", data);\n      nonce = data.nonce;\n      const paymentData = {\n        paymentMethodNonce: nonce,\n        amount: getAmount(),\n      };\n      processPayment(userId, token, paymentData)\n        .then((response) => {\n          console.log(\"POINT-1\", response);\n          if (response.error) {\n            if (response.code == \"1\") {\n              console.log(\"PAYMENT Failed!\");\n              signout(() => {\n                return <Redirect to=\"/\" />;\n              });\n            }\n          } else {\n            setInfo({ ...info, success: response.success, loading: false });\n            console.log(\"PAYMENT SUCCESS\");\n\n            let product_names = \"\";\n            products.forEach(function (item) {\n              product_names += item.name + \", \";\n            });\n\n            const orderData = {\n              products: product_names,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n            };\n            createOrder(userId, token, orderData)\n              .then((response) => {\n                if (response.error) {\n                  if (response.code == \"1\") {\n                    console.log(\"Order Failed!\");\n                    signout(() => {\n                      return <Redirect to=\"/\" />;\n                    });\n                  }\n                } else {\n                  if (response.success == true) {\n                    console.log(\"ORDER PLACED!!\");\n                  }\n                }\n              })\n              .catch((error) => {\n                setInfo({ loading: false, success: false });\n                console.log(\"Order FAILED\", error);\n              });\n            cartEmpty(() => {\n              console.log(\"Did we got a crash?\");\n            });\n\n            setReload(!reload);\n          }\n        })\n        .catch((error) => {\n          setInfo({ loading: false, success: false });\n          console.log(\"PAYMENT FAILED\", error);\n        });\n    });\n  };\n\n  const showbtnDropIn = () => {\n    return (\n      <div>\n        {info.clientToken !== null && products.length > 0\n          ? (\n            <div>\n              <DropIn\n                options={{ authorization: info.clientToken }}\n                onInstance={(instance) => (info.instance = instance)}\n              >\n              </DropIn>\n              <button\n                onClick={onPurchase}\n                className=\"btn btn-block btn-success\"\n              >\n                Buy Now\n              </button>\n            </div>\n          )\n          : (\n            <h3>Please login first or add something in cart</h3>\n          )}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <h3>Your bill is $ {getAmount()}</h3>\n      {showbtnDropIn()}\n    </div>\n  );\n};\n\nexport default PaymentB;\n","import { API } from \"../../backend\";\n\nexport const getmeToken = (userId, token) => {\n  return fetch(`http://15.207.218.35:8000/api/payment/gettoken/${userId}/${token}/`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentInfo) => {\n  const formData = new FormData();\n\n  for (const name in paymentInfo) {\n    formData.append(name, paymentInfo[name]);\n  }\n\n  return fetch(`http://15.207.218.35:8000/api/payment/process/${userId}/${token}/`, {\n    method: \"POST\",\n    body: formData,\n  })\n    .then((response) => {\n      console.log(\"p-0\", response);\n      return response.json();\n    });\n  //.catch((err) => console.log(err));\n};\n","import { API } from \"../../backend\";\n\nexport const createOrder = (userId, token, orderData) => {\n  const formData = new FormData();\n\n  for (const name in orderData) {\n    formData.append(name, orderData[name]);\n  }\n\n  return fetch(`http://15.207.218.35:8000/api/order/add/${userId}/${token}/`, {\n    method: \"POST\",\n    body: formData,\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n","import React, { useState, useEffect } from \"react\";\nimport Base from \"./Base\";\n\nimport Card from \"./Card\";\nimport { loadCart } from \"./helper/cartHelper\";\nimport PaymentB from \"./PaymentB\";\n\nconst Cart = () => {\n  const [reload, setReload] = useState(false);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    setProducts(loadCart());\n  }, [reload]);\n\n  const loadAllProducts = (products) => {\n    return (\n      <div>\n        {products.map((product, index) => (\n          <Card\n            key={index}\n            product={product}\n            removeFromCart={true}\n            addtoCart={false}\n            reload={reload}\n            setReload={setReload}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const loadCheckout = () => {\n    return (\n      <div>\n        <h1>Checkout</h1>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Cart page\" description=\"Welcome to checkout\">\n      <div className=\"row text-center\">\n        <div className=\"col-6\">\n          {products.length > 0 ? (loadAllProducts(products)) : (\n            <h4>No products</h4>\n          )}\n        </div>\n        <div className=\"col-6\">\n          {products.length > 0\n            ? (\n              <PaymentB products={products} setReload={setReload} />\n            )\n            : (\n              <h3>Please login or add something in cart</h3>\n            )}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default Cart;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport Home from \"./core/Home\";\nimport Signup from \"./user/Signup\";\nimport PrivateRoutes from \"./auth/helper/PrivateRoutes\";\nimport UserDashboard from \"./user/UserDashboard\";\nimport Signin from \"./user/Signin\";\nimport Cart from \"./core/Cart\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/signup\" exact component={Signup} />\n        <Route path=\"/signin\" exact component={Signin} />\n        <Route path=\"/cart\" exact component={Cart} />\n        <PrivateRoutes path=\"/user/dashboard\" exact component={UserDashboard} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}